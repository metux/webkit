From: Alberto Garcia <berto@igalia.com>
Subject: Fix FTBFS in GNU/kFreeBSD
Forwaded: no
Index: webkitgtk/Source/JavaScriptCore/heap/MachineStackMarker.cpp
===================================================================
--- webkitgtk.orig/Source/JavaScriptCore/heap/MachineStackMarker.cpp
+++ webkitgtk/Source/JavaScriptCore/heap/MachineStackMarker.cpp
@@ -546,7 +546,7 @@ void* MachineThreads::Thread::Registers:
 
 #elif USE(PTHREADS)
 
-#if defined(__GLIBC__) && ENABLE(JIT)
+#if defined(__GLIBC__) && ENABLE(JIT) && !OS(FREEBSD)
 
 #if CPU(X86)
     return reinterpret_cast<void*>((uintptr_t) regs.machineContext.gregs[REG_ESP]);
@@ -645,7 +645,7 @@ void* MachineThreads::Thread::Registers:
 #error Unknown Architecture
 #endif
 
-#elif defined(__GLIBC__)
+#elif defined(__GLIBC__) && !OS(FREEBSD)
 
 // The following sequence depends on glibc's sys/ucontext.h.
 #if CPU(X86)
@@ -727,7 +727,7 @@ void* MachineThreads::Thread::Registers:
 #error Unknown Architecture
 #endif
 
-#elif defined(__GLIBC__)
+#elif defined(__GLIBC__) && !OS(FREEBSD)
 
 // The following sequence depends on glibc's sys/ucontext.h.
 #if CPU(X86)
@@ -818,7 +818,7 @@ void* MachineThreads::Thread::Registers:
 #error Unknown Architecture
 #endif
 
-#elif defined(__GLIBC__)
+#elif defined(__GLIBC__) && !OS(FREEBSD)
 
 // The following sequence depends on glibc's sys/ucontext.h.
 #if CPU(X86)
